import{d as X,a as F,u as D,b as J,R as K,e as Q,r as P,o as Y,f as I,H as Z,g as ee,h as g,i as S,j as r,k as a,w as t,l as d,m as e,_ as T,I as x,q as p,n as k,T as i,F as A,s as L,t as ae,v as f,x as C,D as h,P as N,y as U,z as y,L as te,B as se,C as M,S as O,E as B,G as E,O as q}from"./index.62cb36ac.js";const oe="http://garage_api.test/api/",le=X({id:"SupplyStore",state:()=>({ItemDetail:[],ItemEdit:[]}),getters:{getItemsDetail(n){return n.ItemDetail},getItemsById(n){return n.ItemEdit}},actions:{async ItemsById(n){await F.get(`v1/pos/Supply_byId/${n}`).then(c=>{if(c.data.success)return this.ItemEdit=c.data.data,this.ItemEdit})},async ItemsList(){await F.get("v1/pos/getSupply").then(n=>{n.data.success&&(this.ItemDetail=n.data.data)}).catch(n=>{if(n.response&&n.response.data){const c=n.response.data;D().setErrors(c.errors)}})},async create_supply(n){return await F.post(oe+"v1/pos/create_supply",n).then(async c=>{if(c.data.success)return c.data.success}).catch(c=>{if(c.response&&c.response.data){const m=c.response.data;D().setErrors(m.errors)}})}}}),re={class:"grid grid-cols-12 gap-6 mt-5"},de={class:"flex flex-wrap items-center col-span-12 mt-2 intro-y sm:flex-nowrap"},ne={class:"flex items-center justify-center w-5 h-5"},ie=r("div",{class:"hidden mx-auto md:block text-slate-500"}," Showing 1 to 10 of 150 entries ",-1),ce={class:"w-full mt-3 sm:w-auto sm:mt-0 sm:ml-auto md:ml-0"},ue={class:"relative w-56 text-slate-500"},me={class:"col-span-12 overflow-auto intro-y lg:overflow-visible"},pe={href:"",class:"font-medium whitespace-nowrap"},_e={class:"text-slate-500 text-xs whitespace-nowrap mt-0.5"},fe={class:"flex items-center justify-center"},he=["onClick"],ve={class:"text-center"},be={class:"p-5"},we=r("h2",{class:"mr-auto text-base font-medium"}," Supply info ",-1),xe={class:"col-span-12 sm:col-span-6"},ye={class:"col-span-12 sm:col-span-6"},ge={class:"col-span-12 sm:col-span-6"},ke={class:"col-span-12 sm:col-span-6"},Ie={class:"col-span-12 sm:col-span-6"},Se=["value"],Te={class:"col-span-12 sm:col-span-12"},Ce=r("div",{class:"ml-4 mr-4"},[r("div",{class:"font-medium"},"Registration success!")],-1),Ve=r("div",{class:"ml-4 mr-4"},[r("div",{class:"mt-1 text-slate-500"},"Please check the fileld form.")],-1),Fe=J({__name:"supply",setup(n){const c=K(),m=le(),s=Q({}),v=P("0");P(null);const V=P(!1),b=w=>{u.value.$reset(),V.value=w};Y(async()=>{$(),await m.ItemsList(),await c.getComboProvince()});const j=I(()=>c.getProvince),_=I(()=>m.getItemsById),R=I(()=>m.getItemsDetail);Z(v,()=>{s.address_code=v.value});async function W(w){$(),await m.ItemsById(w),s.status="u",s.sup_code=_.value[0].sup_code,s.sup_name=_.value[0].sup_name,s.phone=_.value[0].phone,s.email=_.value[0].email,s.website=_.value[0].website,s.active=s.active=!!_.value[0].active,s.remark=_.value[0].remark,v.value=_.value[0].address_code,b(!0)}function $(){s.branch_code="",s.sup_code="",s.sup_name="",s.website="",s.phone="",s.email="",s.address="",s.remark="",u.value.$reset(),s.active=!0,s.status="i"}const z=I(()=>({sup_name:{required:B.withMessage("Customer name is required",E),minLength:q(3)},phone:{required:B.withMessage("Phone is required",E),minLength:q(1)},address_code:{required:B.withMessage("Address is required",E),minLength:q(1)}})),u=ee(z,s,{$autoDirty:!0});async function G(){if(u.value.$touch(),u.value.$invalid){const o=document.querySelectorAll("#failed-notification-content")[0].cloneNode(!0);o.classList.remove("hidden"),O({node:o,duration:3e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0}).showToast()}else{var w=await m.create_supply(s);if(w){const o=document.querySelectorAll("#success-notification-content")[0].cloneNode(!0);o.classList.remove("hidden"),O({node:o,duration:3e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0}).showToast(),b(!1),await m.ItemsList(),$()}}}return(w,o)=>(g(),S("div",re,[r("div",de,[a(e(T),{variant:"primary",class:"mr-2 shadow-md",onClick:o[0]||(o[0]=()=>{b(!0)})},{default:t(()=>[d(" Create New ")]),_:1}),a(e(x),null,{default:t(()=>[a(e(x).Button,{as:e(T),class:"px-2 !box"},{default:t(()=>[r("span",ne,[a(e(p),{icon:"Plus",class:"w-4 h-4"})])]),_:1},8,["as"]),a(e(x).Items,{class:"w-40"},{default:t(()=>[a(e(x).Item,null,{default:t(()=>[a(e(p),{icon:"Printer",class:"w-4 h-4 mr-2"}),d(" Print ")]),_:1}),a(e(x).Item,null,{default:t(()=>[a(e(p),{icon:"FileText",class:"w-4 h-4 mr-2"}),d(" Export to Excel ")]),_:1}),a(e(x).Item,null,{default:t(()=>[a(e(p),{icon:"FileText",class:"w-4 h-4 mr-2"}),d(" Export to PDF ")]),_:1})]),_:1})]),_:1}),ie,r("div",ce,[r("div",ue,[a(e(k),{type:"text",class:"w-56 pr-10 !box",placeholder:"Search..."}),a(e(p),{icon:"Search",class:"absolute inset-y-0 right-0 w-4 h-4 my-auto mr-3"})])])]),r("div",me,[a(e(i),{class:"border-spacing-y-[10px] border-separate -mt-2"},{default:t(()=>[a(e(i).Thead,null,{default:t(()=>[a(e(i).Tr,null,{default:t(()=>[a(e(i).Th,{class:"border-b-0 whitespace-nowrap"},{default:t(()=>[d(" Name ")]),_:1}),a(e(i).Th,{class:"border-b-0 whitespace-nowrap"},{default:t(()=>[d(" Phone ")]),_:1}),a(e(i).Th,{class:"border-b-0 whitespace-nowrap"},{default:t(()=>[d(" Address ")]),_:1}),a(e(i).Th,{class:"text-center border-b-0 whitespace-nowrap"},{default:t(()=>[d(" STATUS ")]),_:1}),a(e(i).Th,{class:"text-center border-b-0 whitespace-nowrap"},{default:t(()=>[d(" ACTIONS ")]),_:1})]),_:1})]),_:1}),a(e(i).Tbody,null,{default:t(()=>[(g(!0),S(A,null,L(R.value,l=>(g(),ae(e(i).Tr,{key:l.sup_code,class:"intro-x"},{default:t(()=>[a(e(i).Td,{class:"first:rounded-l-md last:rounded-r-md bg-white border-b-0 dark:bg-darkmode-600 shadow-[20px_3px_20px_#0000000b]"},{default:t(()=>[r("a",pe,f(l.sup_name),1),r("div",_e," Tags: "+f(l.sup_code)+"-"+f(l.email),1)]),_:2},1024),a(e(i).Td,{class:"first:rounded-l-md last:rounded-r-md bg-white border-b-0 dark:bg-darkmode-600 shadow-[20px_3px_20px_#0000000b]"},{default:t(()=>[d(f(l.phone),1)]),_:2},1024),a(e(i).Td,{class:"first:rounded-l-md last:rounded-r-md bg-white border-b-0 dark:bg-darkmode-600 shadow-[20px_3px_20px_#0000000b]"},{default:t(()=>[d(f(l.address),1)]),_:2},1024),a(e(i).Td,{class:"first:rounded-l-md last:rounded-r-md w-40 bg-white border-b-0 dark:bg-darkmode-600 shadow-[20px_3px_20px_#0000000b]"},{default:t(()=>[r("div",{class:C(["flex items-center justify-center",{"text-success":l.active},{"text-danger":!l.active}])},[a(e(p),{icon:"CheckSquare",class:"w-4 h-4 mr-2"}),d(" "+f(l.active?"Active":"Inactive"),1)],2)]),_:2},1024),a(e(i).Td,{class:"first:rounded-l-md last:rounded-r-md w-56 bg-white border-b-0 dark:bg-darkmode-600 shadow-[20px_3px_20px_#0000000b] py-0 relative before:block before:w-px before:h-8 before:bg-slate-200 before:absolute before:left-0 before:inset-y-0 before:my-auto before:dark:bg-darkmode-400"},{default:t(()=>[r("div",fe,[r("a",{class:"flex items-center mr-3",href:"",onClick:H=>{H.preventDefault(),W(l.sup_code)}},[a(e(p),{icon:"CheckSquare",class:"w-4 h-4 mr-1"}),d(" Edit ")],8,he)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),a(e(h),{staticBackdrop:"",open:V.value,onClose:o[11]||(o[11]=()=>{b(!1)})},{default:t(()=>[a(e(h).Panel,{class:"px-5 py-10"},{default:t(()=>[r("div",ve,[a(e(N),{class:"mt-5 intro-y box"},{default:t(()=>[r("div",be,[a(e(N).Panel,null,{default:t(()=>[a(e(h),{staticBackdrop:"",open:V.value,onClose:o[10]||(o[10]=()=>{b(!1)})},{default:t(()=>[a(e(h).Panel,null,{default:t(()=>[a(e(h).Title,null,{default:t(()=>[we,a(e(U),{class:"mt-2"},{default:t(()=>[a(e(U).Input,{name:"active",id:"active",checked:s.active,modelValue:s.active,"onUpdate:modelValue":o[1]||(o[1]=l=>s.active=l),type:"checkbox"},null,8,["checked","modelValue"])]),_:1})]),_:1}),a(e(h).Description,{class:"grid grid-cols-12 gap-4 gap-y-3"},{default:t(()=>[r("div",xe,[a(e(y),{htmlFor:"modal-form-1"},{default:t(()=>[d("Name")]),_:1}),a(e(k),{id:"sup_name",name:"sup_name",value:s.sup_name,type:"text",placeholder:"supply name",modelValue:s.sup_name,"onUpdate:modelValue":o[2]||(o[2]=l=>s.sup_name=l),error:e(u).sup_name.$error,class:C({"border-danger":e(u).sup_name.$error})},null,8,["value","modelValue","error","class"])]),r("div",ye,[a(e(y),{htmlFor:"modal-form-1"},{default:t(()=>[d("Website")]),_:1}),a(e(k),{id:"website",name:"website",value:s.website,type:"text",placeholder:"website",modelValue:s.website,"onUpdate:modelValue":o[3]||(o[3]=l=>s.website=l)},null,8,["value","modelValue"])]),r("div",ge,[a(e(y),{htmlFor:"modal-form-3"},{default:t(()=>[d(" Email ")]),_:1}),a(e(k),{id:"email",name:"email",type:"email",value:s.email,placeholder:"email",modelValue:s.email,"onUpdate:modelValue":o[4]||(o[4]=l=>s.email=l)},null,8,["value","modelValue"])]),r("div",ke,[a(e(y),{htmlFor:"modal-form-4"},{default:t(()=>[d(" Phone ")]),_:1}),a(e(k),{id:"phone",name:"phone",type:"text",value:s.phone,placeholder:"phone",modelValue:s.phone,"onUpdate:modelValue":o[5]||(o[5]=l=>s.phone=l),error:e(u).phone.$error,class:C({"border-danger":e(u).phone.$error})},null,8,["value","modelValue","error","class"])]),r("div",Ie,[a(e(y),{htmlFor:"modal-form-6"},{default:t(()=>[d("Address")]),_:1}),a(e(te),{name:"cboAddress",modelValue:v.value,"onUpdate:modelValue":o[6]||(o[6]=l=>v.value=l),value:v.value,error:e(u).address_code.$error,class:C({"border-danger":e(u).address_code.$error})},{default:t(()=>[(g(!0),S(A,null,L(j.value,l=>(g(),S("option",{value:l.id,key:l.id},f(l.name),9,Se))),128))]),_:1},8,["modelValue","value","error","class"])]),r("div",Te,[a(e(y),{htmlFor:"remark"},{default:t(()=>[d(" Remark ")]),_:1}),a(e(se),{id:"remark",name:"remark",modelValue:s.remark,"onUpdate:modelValue":o[7]||(o[7]=l=>s.remark=l),value:s.remark,placeholder:"Type your comments"},null,8,["modelValue","value"])])]),_:1}),a(e(h).Footer,null,{default:t(()=>[a(e(T),{type:"button",variant:"outline-secondary",onClick:o[8]||(o[8]=()=>{b(!1)}),class:"w-20 mr-1"},{default:t(()=>[d(" Cancel ")]),_:1}),a(e(T),{name:"btnOk",variant:"primary",type:"button",class:"w-20",ref:"{sendButtonRef}",disable:e(u).$invalid,onClick:o[9]||(o[9]=l=>G())},{default:t(()=>[d(" Commit ")]),_:1},8,["disable"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})])]),_:1})])]),_:1})]),_:1},8,["open"]),a(e(M),{id:"success-notification-content",class:"flex hidden"},{default:t(()=>[a(e(p),{icon:"CheckCircle",class:"text-success"}),Ce]),_:1}),a(e(M),{id:"failed-notification-content",class:"flex hidden"},{default:t(()=>[a(e(p),{icon:"XCircle",class:"text-danger"}),Ve]),_:1})]))}});export{Fe as default};
